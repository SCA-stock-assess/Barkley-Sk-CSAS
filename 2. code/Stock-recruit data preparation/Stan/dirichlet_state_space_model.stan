// Code generated by ChatGPT based on description of the problem and 
// uploading the raw data file

data {
  int<lower=1> T;                       // Number of time points
  int<lower=2> K;                       // Number of composition categories
  simplex[K] Y[T];                      // Observed compositions (set to arbitrary valid values where missing)
  int<lower=0, upper=1> is_observed[T]; // Indicator for observed values
  simplex[K] prior_mean;                 // Informative prior on initial composition (e.g., historic average)
}
parameters {
  simplex[K] theta[T]; // Latent compositions
  real<lower=0> sigma; // Process noise
}
model {
  sigma ~ normal(0, 1);
  theta[1] ~ dirichlet(prior_mean * 50); // Prior informed by historic average
  
  for (t in 2:T) {
    theta[t] ~ dirichlet( (theta[t-1] * sigma + 1e-6) );
  }

  for (t in 1:T) {
    if (is_observed[t] == 1) {
      Y[t] ~ dirichlet(theta[t] * 50); // Concentration parameter scaling
    }
  }
}

